import{aA as M,bn as g}from"./main-79e5ed80.js";function W(t,e,r){return Math.sqrt((t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]!==void 0&&e[2]!==void 0?(t[2]*r-e[2]*r)**2:0))}const l=[];for(const t of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const e=t[0];for(let r=1;r<t.length;r++)l[t[r]]=e}const u=[];function q(t){return t.vcsWkid&&l[t.vcsWkid]!==void 0?u[l[t.vcsWkid]]:t.latestVcsWkid&&l[t.latestVcsWkid]!==void 0?u[l[t.latestVcsWkid]]:1}function m(t,e,r){const o={x:0,y:0};e&&(o.z=0),r&&(o.m=0);let n=0,c=t[0];for(let a=0;a<t.length;a++){const s=t[a];if(Z(s,c)===!1){const f=p(c,s,e),h=P(c,s,e,r);h.x*=f,h.y*=f,o.x+=h.x,o.y+=h.y,e&&(h.z*=f,o.z+=h.z),r&&(h.m*=f,o.m+=h.m),n+=f,c=s}}return n>0?(o.x/=n,o.y/=n,e&&(o.z/=n),r&&(o.m/=n)):(o.x=t[0][0],o.y=t[0][1],e&&(o.z=t[0][2]),r&&e?o.m=t[0][3]:r&&(o.m=t[0][2])),o}function P(t,e,r,o){const n={x:(t[0]+e[0])/2,y:(t[1]+e[1])/2};return r&&(n.z=(t[2]+e[2])/2),r&&o?n.m=(t[3]+e[3])/2:o&&(n.m=(t[2]+e[2])/2),n}function I(t,e){if(t.length<=1)return 0;let r=0;for(let o=1;o<t.length;o++)r+=p(t[o-1],t[o],e);return r}function p(t,e,r){const o=e[0]-t[0],n=e[1]-t[1];if(r){const c=e[2]-e[2];return Math.sqrt(o*o+n*n+c*c)}return Math.sqrt(o*o+n*n)}function Z(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function w(t){const e={x:0,y:0,spatialReference:t.spatialReference.toJSON()},r={x:0,y:0,spatialReference:t.spatialReference.toJSON()};let o=0,n=0;for(let c=0;c<t.paths.length;c++){if(t.paths[c].length===0)continue;const a=I(t.paths[c],t.hasZ===!0);if(a===0){const s=m(t.paths[c],t.hasZ===!0,t.hasM===!0);e.x+=s.x,e.y+=s.y,t.hasZ===!0&&(e.z+=s.z),t.hasM===!0&&(e.m+=s.m),++o}else{const s=m(t.paths[c],t.hasZ===!0,t.hasM===!0);r.x+=s.x*a,r.y+=s.y*a,t.hasZ===!0&&(r.z+=s.z*a),t.hasM===!0&&(r.m+=s.m*a),n+=a}}return n>0?(r.x/=n,r.y/=n,t.hasZ===!0&&(r.z/=n),t.hasM===!0&&(r.m/=n),new M(r)):o>0?(e.x/=o,e.y/=o,t.hasZ===!0&&(r.z/=o),t.hasM===!0&&(e.m/=o),new M(e)):null}function J(t){if(t.points.length===0)return null;let e=0,r=0,o=0,n=0;for(let a=0;a<t.points.length;a++){const s=t.getPoint(a);s.hasZ===!0&&(o+=s.z),s.hasM===!0&&(n+=s.m),e+=s.x,r+=s.y,n+=s.m}const c={x:e/t.points.length,y:r/t.points.length,spatialReference:null};return c.spatialReference=t.spatialReference.toJSON(),t.hasZ===!0&&(c.z=o/t.points.length),t.hasM===!0&&(c.m=n/t.points.length),new M(c)}function v(t,e){return t.x*e.x+t.y*e.y}function R(t,e){return t.x*e.y-e.x*t.y}function x(t,e,r=0){for(;t<r;)t+=e;const o=r+e;for(;t>=o;)t-=e;return t}function z(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}function N(t,e){return x(z(t,e),2*Math.PI)*(180/Math.PI)}function O(t,e){return x(Math.PI/2-z(t,e),2*Math.PI)*(180/Math.PI)}function d(t,e,r){const o={x:t.x-e.x,y:t.y-e.y},n={x:r.x-e.x,y:r.y-e.y};return Math.atan2(R(o,n),v(o,n))}function S(t,e,r){return x(d(t,e,r),2*Math.PI)*(180/Math.PI)}function V(t,e,r){return x(-1*d(t,e,r),2*Math.PI)*(180/Math.PI)}u[9002]=.3048,u[9003]=.3048006096012192,u[9095]=.3048007491;const i=[0,0];function b(t){for(let e=0;e<t.length;e++){const r=t[e];for(let n=0;n<r.length-1;n++){const c=r[n],a=r[n+1];for(let s=e+1;s<t.length;s++)for(let f=0;f<t[s].length-1;f++){const h=t[s][f],y=t[s][f+1];if(g(c,a,h,y,i)&&!(i[0]===c[0]&&i[1]===c[1]||i[0]===h[0]&&i[1]===h[1]||i[0]===a[0]&&i[1]===a[1]||i[0]===y[0]&&i[1]===y[1]))return!0}}const o=r.length;if(!(o<3))for(let n=0;n<=o-2;n++){const c=r[n],a=r[n+1];for(let s=n+2;s<=o-2;s++){const f=r[s],h=r[s+1];if(g(c,a,f,h,i)&&!(i[0]===c[0]&&i[1]===c[1]||i[0]===f[0]&&i[1]===f[1]||i[0]===a[0]&&i[1]===a[1]||i[0]===h[0]&&i[1]===h[1]))return!0}}}return!1}export{O as M,S as P,b as Z,V as d,W as e,w as l,N as p,q as s,J as u};
