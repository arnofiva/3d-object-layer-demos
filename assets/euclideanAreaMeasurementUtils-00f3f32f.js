import{l as k}from"./getDefaultUnitForView-33179f7a.js";import{d6 as v,bh as a,bg as p,d7 as C,d8 as R,d9 as j,da as y,db as A,dc as Z,dd as q,de as w,df as x}from"./main-79e5ed80.js";import{i as E}from"./measurementUtils-c24c5920.js";function B(t,e=$()){return m(t,e)}function D(t,e=$()){return m(t,e,!1)}function m(t,e,s=t.hasZ){const i=E(t.spatialReference),l=v(i);if(l==null)return null;const W=(f,r)=>!(r.length<2)&&(p(f,r[0],r[1],s&&r[2]||0),!0);let d=0;for(const f of t.rings){const r=f.length;if(r<3)continue;const{positionsWorldCoords:o}=e;for(;o.length<r;)o.push(a());const h=F,c=p(H,0,0,0),b=1/r;for(let n=0;n<r;n++){if(!W(h,f[n])||!C(h,t.spatialReference,o[n],i))return null;R(c,c,o[n],b)}const g=j(o[0],o[1],c,y());if(A(Z(g))===0)continue;for(let n=0;n<r;n++)q(g,c,o[n],o[n]);const u=J(o);for(let n=0;n<u.length;n+=3)d+=w(o[u[n]],o[u[n+1]],o[u[n+2]])}return k(d,l)}const F=a(),H=a();function $(){return{positionsWorldCoords:[]}}function J(t){return x(S(t),[],2)}function S(t){const e=new Float64Array(2*t.length);for(let s=0;s<t.length;++s){const i=t[s],l=2*s;e[l]=i[0],e[l+1]=i[1]}return e}export{J as U,B as g,D as h,$ as k};
