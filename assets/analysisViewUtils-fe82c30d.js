import{aD as l,aE as o,aF as d,bm as c,bu as r,hG as w,aw as y,cS as h,ha as p}from"./index-cdda5707.js";import{l as $}from"./dragEventPipeline-4a965366.js";let n=class extends ${constructor(t){super(t)}initialize(){this.addHandles(c(()=>this.analysisViewData.visible,t=>this.visible=t,r))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};l([o({constructOnly:!0})],n.prototype,"analysis",void 0),l([o()],n.prototype,"analysisViewData",void 0),n=l([d("esri.views.interactive.AnalysisToolBase")],n);function V(a,t){a.interactive=!0;const{tool:i,view:e}=a;e.activeTool=i;let s=w(t,()=>{e.activeTool===i&&(e.activeTool=null)});return y(async u=>{await h(()=>i==null||!i.active,u),s=p(s)},t)}function x(a,t){return c(()=>a.interactive,()=>f(a,t),r)}function f(a,t){a.interactive?m(a,t):v(a)}function m(a,t){v(a);const{view:i,analysis:e}=a,s=new t({view:i,analysis:e,analysisViewData:a});return a.tool=s,i.tools.add(s),s}function v(a){const{view:t,tool:i}=a;i!=null&&(t.tools.remove(i),a.tool=null)}export{n as a,x as b,V as l,v};
