import{as as C,at as f}from"./main-79e5ed80.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.4.2
 */const E="calciteInternalLabelClick",b="calciteInternalLabelConnected",o="calciteInternaLabelDisconnected",L="calcite-label",c=new WeakMap,i=new WeakMap,r=new WeakMap,a=new Set,h=e=>{const{id:t}=e,l=t&&C(e,{selector:`${L}[for="${t}"]`});if(l)return l;const n=f(e,L);return!n||v(n,e)?null:n};function v(e,t){let l;const n="custom-element-ancestor-check",u=s=>{s.stopImmediatePropagation();const d=s.composedPath();l=d.slice(d.indexOf(t),d.indexOf(e))};return e.addEventListener(n,u,{once:!0}),t.dispatchEvent(new CustomEvent(n,{composed:!0,bubbles:!0})),e.removeEventListener(n,u),l.filter(s=>s!==t&&s!==e).filter(s=>s.tagName?.includes("-")).length>0}function k(e){const t=h(e.el);if(c.has(t)||!t&&a.has(e))return;const l=w.bind(e);if(t){e.labelEl=t;const n=g.bind(e);c.set(e.labelEl,n),e.labelEl.addEventListener(E,n),a.delete(e),document.removeEventListener(b,i.get(e)),r.set(e,l),document.addEventListener(o,l)}else a.has(e)||(l(),document.removeEventListener(o,r.get(e)))}function x(e){if(a.delete(e),document.removeEventListener(b,i.get(e)),document.removeEventListener(o,r.get(e)),i.delete(e),r.delete(e),!e.labelEl)return;const t=c.get(e.labelEl);e.labelEl.removeEventListener(E,t),c.delete(e.labelEl)}function D(e){return e.label||e.labelEl?.textContent?.trim()||""}function g(e){this.disabled||this.el.contains(e.detail.sourceEvent.target)||this.onLabelClick(e)}function m(){a.has(this)&&k(this)}function w(){a.add(this);const e=i.get(this)||m.bind(this);i.set(this,e),document.addEventListener(b,e)}export{o as a,k as c,x as d,D as g,b as l};
